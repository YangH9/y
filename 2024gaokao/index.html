<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>2024高考录取城市统计</title>
    <script src="../js/echarts.js"></script>
    <script src="../js/map/js/china.js"></script>
    <style>
      * {
        margin: 0;
        padding: 0;
      }
      html,
      body,
      #main {
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
  <body>
    <div id="main"></div>
    <script type="text/javascript">
      const myChart = echarts.init(document.querySelector('#main'))

      // 成员数据，姓名、地区、学校
      const memberData = [
        { name: '于成凯', province: '河南', school: '河南师范大学' },
        { name: '刘兴', province: '河南', school: '河南师范大学' },
        { name: '薛奕康', province: '河南', school: '河南师范大学' },
        { name: '杨华宇', province: '河南', school: '河南农业大学' },
        { name: '杨天豪', province: '河南', school: '洛阳理工学院' },
        { name: '齐奥宇', province: '河南', school: '河南工程学院' },
        { name: '黄俊丰', province: '河南', school: '河南工程学院' },
        { name: '张佳洺', province: '河南', school: '新乡学院' },
        { name: '程元旭', province: '河南', school: '新乡工程学院' },
        { name: '陶宇飞', province: '河南', school: '新乡工程学院' },
        { name: '李丞成', province: '河南', school: '新乡工程学院' },
        { name: '郑佳钦', province: '河南', school: '南阳理工学院' },
        { name: '刘旭腾', province: '河南', school: '新乡医学院' },
        { name: '余沛炯', province: '河南', school: '河南体育学院' },
        { name: '马英浩', province: '河南', school: '安阳学院' },
        { name: '魏雪斌', province: '河南', school: '安阳学院' },
        { name: '刘文韬', province: '河南', school: '信阳学院' },
        { name: '齐博文', province: '河南', school: '信阳学院' },
        { name: '池银旭', province: '河南', school: '焦作大学' },
        { name: '张丛银', province: '河南', school: '焦作大学' },
        { name: '薛鹏程', province: '河南', school: '郑州科技学院' },
        { name: '朱贝贝', province: '河南', school: '商丘工学院' },
        { name: '程轩昂', province: '河南', school: '郑州经贸学院' },
        { name: '李涵叡', province: '河南', school: '郑州经贸学院' },
        { name: '高志延', province: '河南', school: '郑州商学院' },
        { name: '张帅', province: '河南', school: '郑州西亚斯学院' },
        { name: '张成龙', province: '河南', school: '郑州西亚斯学院' },
        { name: '赵鹏飞', province: '河南', school: '郑州工业应用技术学院' },
        { name: '晏绍伦', province: '河南', school: '黄河水利职业技术学院' },
        { name: '程志远', province: '河南', school: '郑州航空工业管理学院' },
        { name: '冯耀(定向士官)', province: '河南', school: '河南交通职业技术学院' },
        { name: '孙浩先', province: '河南', school: '郑州工业应用技术学院' },
        { name: '姚寓孔', province: '河南', school: '郑州电力高等专科学校' },
        { name: '高佳旭', province: '河南', school: '周口职业技术学院' },
        { name: '刘梦怡', province: '河南', school: '河南信息统计职业学院' },
        { name: '万雪婷', province: '河南', school: '南阳医学高等专科学校' },
        { name: '马祖壮', province: '河南', school: '南阳医学高等专科学校' },
        { name: '白伊伦', province: '河南', school: '南阳农业职业学院' },
        { name: '杨锟', province: '湖北', school: '长江大学' },
        { name: '耿照昂', province: '湖北', school: '湖北经济学院' },
        { name: '吕文凯', province: '湖北', school: '湖北汽车工业学院' },
        { name: '张苗(定向士官)', province: '湖北', school: '湖北交通职业技术学院' },
        { name: '赵衡', province: '江苏', school: '金陵科技学院' },
        { name: '彭雅松', province: '福建', school: '厦门华厦学院' },
        { name: '丁晓帆', province: '广西', school: '桂林学院' },
        { name: '李闯', province: '广西', school: '广西电力职业技术学院' },
        { name: '梅璇', province: '吉林', school: '吉林师范大学' },
        { name: '马习馨', province: '吉林', school: '吉林外国语大学' },
        { name: '李晨阳', province: '吉林', school: '吉林工程技术师范学院' },
        { name: '杨婉雪', province: '吉林', school: '长春财经学院' },
        { name: '薛晓冰', province: '重庆', school: '重庆旅游职业学院' },
        { name: '于松', province: '宁夏', school: '宁夏师范大学' },
        { name: '刘一鸣', province: '辽宁', school: '沈阳农业大学' },
        { name: '刘靖博', province: '辽宁', school: '辽宁科技学院' },
        { name: '周子琦', province: '北京', school: '北京邮电大学世纪学院' },
        { name: '樊浩宇', province: '山西', school: '山西工学院' },
        { name: '胡伟康', province: '贵州', school: '六盘水师范学院' },
        { name: '李晓锐', province: '海南', school: '海南科技职业大学' },
        { name: '王达飞', province: '新疆', school: '喀什大学' },
        { name: '王梦', province: '广东', school: '广东财贸职业学院' }
      ]

      // 省份数据
      const provinceData = [
        '北京',
        '天津',
        '河北',
        '山西',
        '内蒙古',
        '辽宁',
        '吉林',
        '黑龙江',
        '上海',
        '江苏',
        '浙江',
        '安徽',
        '福建',
        '江西',
        '山东',
        '河南',
        '湖北',
        '湖南',
        '广东',
        '广西',
        '海南',
        '重庆',
        '四川',
        '贵州',
        '云南',
        '西藏',
        '陕西',
        '甘肃',
        '青海',
        '宁夏',
        '新疆',
        '台湾',
        '香港',
        '澳门',
        '南海诸岛'
      ]
      // 地图数据
      const mapData = provinceData.map(name => {
        const list = memberData.filter(i => i.province === name)
        return {
          name: name,
          list: list,
          value: list.length
        }
      })

      // 指定图表的配置项和数据
      const option = {
        backgroundColor: '#00005a',
        title: [
          {
            text: '2024高考录取城市统计',
            left: 'center',
            textStyle: { fontSize: 30, color: '#f0f0ff' },
            top: 20
          },
          {
            subtext: '班主任：张伟虎\n任课老师：语文：杨勇\n数学：朱海学\n日语：仲雅青、贾谭\n物理：张华\n化学：张伟虎\n生物：朱向克',
            left: 'center',
            subtextStyle: { fontSize: 30, color: '#f0f0ff' },
            top: 20
          }
        ],
        tooltip: { formatter: params => `${params.name} ${params.value}人<br>${params.data.list.map(i => `${i.name}——${i.school}`).join('<br>')}` },
        label: {
          color: '#f0f0ff',
          formatter: params => (params.value ? `${params.name} ${params.value}人` : params.name)
          // formatter: params => (params.value ? `${params.name} ${params.value}人\n${params.data.list.map(i => `${i.name}`).join('\n')}` : params.name),
        },
        toolbox: { feature: { saveAsImage: { show: true } }, iconStyle: { borderColor: '#f0f0ff', borderWidth: 2 }, top: 20, right: 20 },
        visualMap: {
          min: 0,
          max: Math.max(...mapData.map(item => item.value)),
          left: 'left',
          top: 'bottom',
          text: ['高', '低'],
          textStyle: {
            color: '#f0f0ff'
          },
          calculable: true,
          inRange: { color: ['#a5a5ff', '#0000ff'] },
          show: true
        },
        geo: {
          map: 'china',
          aspectScale: 0.85,
          layoutCenter: ['50%', '50%'], //地图位置
          layoutSize: '100%',
          itemStyle: {
            normal: {
              shadowColor: '#5a5aa5',
              shadowOffsetX: 0,
              shadowOffsetY: 15,
              opacity: 0.5
            }
          },
          regions: [{ name: '南海诸岛', itemStyle: { normal: { opacity: 0 } } }]
        },
        series: [
          {
            type: 'map',
            mapType: 'china',
            aspectScale: 0.85,
            layoutCenter: ['50%', '50%'], //地图位置
            layoutSize: '100%',
            zoom: 1, //当前视角的缩放比例
            // label: { normal: { show: true }, emphasis: { show: true } },
            // labelLayout: params => {
            //   console.log(params)
            //   return {
            //     x: params.rect.x + 10,
            //     y: params.rect.y + params.rect.height / 2,
            //     verticalAlign: 'middle',
            //     align: 'left'
            //   }
            // },
            // labelLine:{
            //   show: true,
            //   showAbove:true,
            //   lineStyle: {
            //     color: '#fff',
            //     width: 2,
            //     type: 'solid'
            //   }
            // },
            itemStyle: {
              normal: {
                areaColor: '#b4b4ff',
                borderColor: '#5a5aa5',
                borderWidth: 1.5,
                label: {
                  color: '#f0f0ff',
                  show: true
                }
              },
              emphasis: {
                areaColor: '#5a5aa5',
                label: {
                  color: '#f0f0ff',
                  show: true
                }
              }
            },
            data: mapData
          }
        ]
      }

      // 使用刚指定的配置项和数据显示图表。
      myChart.setOption(option)
    </script>
  </body>
</html>
